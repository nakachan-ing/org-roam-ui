:PROPERTIES:
:ID:       908C9228-AF5D-4732-BF7A-F5EB7F7E2547
:END:
#+title: スイッチロール
#+filetags: :@IAM:@AWS:


#+BEGIN_QUOTE
ユーザーと切り替え後のロールのアクセス許可は、累積されません。同時に有効になるアクセス権限のセットは 1 つのみです。ロールを切り替えると、ユーザーアクセス権限が一時的に無効になり、切り替え後のロールに割り当てられたアクセス権限が有効になります。そのロールを終了すると、ユーザーアクセス権限が自動的に復元されます。(¶2§2)

AWS アカウントのルートユーザー としてサインインすると、ロールを切り替えることはできません。IAM ユーザー、IAM Identity Center でのユーザー、SAML フェデレーションロール、またはウェブ ID フェデレーションロールとしてサインインするときにロールを切り替えられます。(¶2§1)
#+END_QUOTE


- ルートユーザでログインするとスイッチロールできない
- プリンシパル側も IAM ユーザを作成する
- ExternalID(外部 ID)が必要なロールには切り替えられない
- セッション時間について、ちょいむず
- 自アカウントのIAMユーザには[[id:23BE28F3-3740-4BF3-97E8-D8A05CB996E3][最小権限の原則]]でロールを付与して、用途に応じたロールにスイッチする


*【参照】*
- [[https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_roles_use_switch-role-console.html][ロールの切り替え (コンソール) - AWS Identity and Access Management]]
