:PROPERTIES:
:ID:       FCA590BF-00D3-45F4-903B-9AFE6088067B
:END:
#+title: IAMを使用したクロスアカウントアクセス
#+filetags: :@IAM:@AWS:


#+BEGIN_QUOTE
一部の AWS サービスでは、IAM を使用してリソースへのクロスアカウントアクセスを許可できます。これを行うには、共有するリソースにポリシーを直接アタッチするか、ロールをプロキシとして使用します。(¶1§1)

リソースを直接共有するには、共有するリソースでリソースベースのポリシーがサポートされている必要があります。ロールの ID ベースのポリシーとは異なり、リソースベースのポリシーは、そのリソースにアクセスできるユーザー (プリンシパル) を指定します。(¶1§2)

リソースベースのポリシーがサポートされていない別のアカウントのリソースにアクセスする場合は、ロールをプロキシとして使用します。(¶1§3)
#+END_QUOTE


- クロスアカウントアクセスを行うには、共有するリソースに直接ポリシーをアタッチするか、ロールをプロキシとして使用する二種類がある
- AWSの公式ドキュメントでは、これを *リソースベースのポリシー* と *ロールのIDベースのポリシー* と表現している
- リソースベースのポリシーには、共有するリソースごとにアクセスできるユーザ(プリンシパル)を指定する([[id:BD400B59-BB21-492D-946D-6A8A5F1BFAB6][リソースベースのクロスアカウント]])
- ロールのIDベースのポリシーは、あらかじめ許可された権限を持つロールをプリンシパルに付与するが、[[id:23BE28F3-3740-4BF3-97E8-D8A05CB996E3][最小権限の原則]]でロールを作成することが重要である([[id:3264FA99-7A11-485B-A193-437A31704603][ロールベースのクロスアカウント]])

  
*【参照】*
- [[https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/access_policies-cross-account-resource-access.html][IAM でのクロスアカウントのリソースへのアクセス - AWS Identity and Access Management]]
